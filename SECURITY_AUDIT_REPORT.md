# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ v8unpack

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
v8unpack - –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ 1C:Enterprise (.cf, .epf, .erf). –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Boost –∏ zlib –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### Boost Library (–≤–µ—Ä—Å–∏—è 1.53+)
- **–£—è–∑–≤–∏–º–æ—Å—Ç–∏**: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ CVE –≤ –≤–µ—Ä—Å–∏—è—Ö Boost –¥–æ 1.64
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ Boost 1.85.x –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è 1.53, –∫–æ—Ç–æ—Ä–∞—è —É—Å—Ç–∞—Ä–µ–ª–∞

#### Zlib Library
- **–£—è–∑–≤–∏–º–æ—Å—Ç–∏**: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ CVE –≤ –≤–µ—Ä—Å–∏—è—Ö –¥–æ 1.2.12
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å zlib 1.3.x –∏–ª–∏ –Ω–æ–≤–µ–µ
- **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ù–µ —É–∫–∞–∑–∞–Ω–∞ –≤–µ—Ä—Å–∏—è, –≤–æ–∑–º–æ–∂–Ω–æ —É—è–∑–≤–∏–º–∞

### 2. –ê–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

#### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- ‚ùå –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø–∞—Å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (strcpy, sprintf, gets, strcat)
- ‚úÖ –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- ‚úÖ –ù–µ—Ç —è–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–∞–º—è—Ç—å—é (malloc/free, memcpy)

#### –ó–∞–º–µ—á–∞–Ω–∏—è:
- ‚ö†Ô∏è –ù–∞–ª–∏—á–∏–µ —Ñ–ª–∞–≥–∞ `-D_CRT_SECURE_NO_WARNINGS` –≤ CMakeLists.txt
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–ª–∞–≥–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ (-fstack-protector, -fPIE)

### 3. –ò—Å–ø—Ä–∞–ª–µ–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

–ò–∑ –∏—Å—Ç–æ—Ä–∏–∏ Git –Ω–∞–π–¥–µ–Ω—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **Fix #78**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —á—Ç–µ–Ω–∏–µ –∏–º–µ–Ω –¥–æ –Ω—É–ª–µ–≤–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ (V8File.cpp)
- **Inflate fix**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –Ω–µ–∑–∞–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- –≠—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–∞–Ω–Ω—ã—Ö

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏

#### ‚úÖ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. ‚úÖ **–í–∫–ª—é—á–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö CRT —Ñ—É–Ω–∫—Ü–∏—è—Ö** - —Ñ–ª–∞–≥ `-D_CRT_SECURE_NO_WARNINGS` —É–¥–∞–ª–µ–Ω
2. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–ª–∞–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
   - `-Wall -Wextra` - –≤–∫–ª—é—á–µ–Ω—ã –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
   - `-Werror=format-security` - –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç—Ä–æ–∫
   - `-fstack-protector-strong` - –∑–∞—â–∏—Ç–∞ —Å—Ç–µ–∫–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞
   - `-fPIE` - –∫–æ–º–ø–∏–ª—è—Ü–∏—è position-independent –∫–æ–¥–∞
   - `-pie` - —Å–æ–∑–¥–∞–Ω–∏–µ position-independent –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞
3. ‚úÖ **–í–µ—Ä—Å–∏—è Boost –æ–±–Ω–æ–≤–ª–µ–Ω–∞** —Å 1.53+ –¥–æ 1.80+ (—É—Å—Ç—Ä–∞–Ω—è–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã–µ CVE)
4. ‚úÖ **–í–µ—Ä—Å–∏—è zlib –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 1.2.12+ (—É—Å—Ç—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ CVE)
5. –°++14 —Å—Ç–∞–Ω–¥–∞—Ä—Ç –æ—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –∑–∞–ø—Ä–æ—à–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–∏–ª–¥–∞:
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ —Å –Ω–æ–≤—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω —Å size: 2.9MB (position-independent executable)
- ‚úÖ –ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ warnings –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö

### 5. –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤

#### –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫:
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Boost 1.53, zlib)
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —ç–∫—Å–ø–ª–æ–π—Ç–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏

#### –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫:
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤ CI/CD
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

#### –ù–∏–∑–∫–∏–π —Ä–∏—Å–∫:
- –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–º
- –ù–µ—Ç –æ—á–µ–≤–∏–¥–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π 2022 –≥–æ–¥–∞

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–≤—ã—à–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. **–û–±–Ω–æ–≤–∏—Ç—å Boost** –¥–æ –≤–µ—Ä—Å–∏–∏ 1.85.x
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é zlib** –∏ –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ 1.3.x
3. **–í–∫–ª—é—á–∏—Ç—å —Ñ–ª–∞–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** –≤ CMakeLists.txt

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –º–µ—Ä—ã:
1. **–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** (cppcheck, clang-tidy)
2. **–í–Ω–µ–¥—Ä–∏—Ç—å fuzzing-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤
3. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∞—É–¥–∏—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (OWASP Dependency-Check)
4. **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ C++17/C++20**

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
1. –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ CVE –±—é–ª–ª–µ—Ç–µ–Ω–∏ –¥–ª—è Boost –∏ zlib
2. –°–ª–µ–¥–∏—Ç—å –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç v8unpack **—É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å–±–æ—Ä–∫—É** —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –ø–æ –ø–æ–≤—ã—à–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

### ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ —É—Å–∏–ª–µ–Ω–∞** - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–ª–∞–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —É—è–∑–≤–∏–º–æ—Å—Ç—è—Ö –≤–∫–ª—é—á–µ–Ω—ã** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
3. **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º –æ–±–Ω–æ–≤–ª–µ–Ω—ã** - –≤–µ—Ä—Å–∏–∏ Boost 1.80+ –∏ zlib 1.2.12+ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç —Ä–∏—Å–∫–∏ CVE
4. **–°—Ç–µ–∫–æ–≤–∞—è –∑–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞** - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞ –≤–∫–ª—é—á–µ–Ω–∞
5. **Position-independent executable** - –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∑–∞—â–∏—â–µ–Ω –æ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —ç–∫—Å–ø–ª–æ–π—Ç–æ–≤

### üü° **–û—Å—Ç–∞–≤—à–∏–µ—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ Boost 1.85.x –ø—Ä–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
2. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –≤ –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ (cppcheck/clang-tidy)
3. –†–µ–≥—É–ª—è—Ä–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å CVE –≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∏—Å–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
